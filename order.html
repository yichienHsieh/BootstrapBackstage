<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./CSS/all.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
</head>
<body>
  <div class="d-flex">
    <aside class="sidebar vh-100 border-end pt-3 d-flex bg-white flex-column">
      
      <!-- 後台名稱 -->
      <div class="px-4">
        <strong>六角西餐廳</strong> - 後台管理
      </div>
      
      <!-- 選單 -->
      <div class="overflow-auto mt-3">
        <div>
          <a href="index.html" class="sidebar-link">
            <div class="px-4"><i class="bi bi-house me-2"></i>首頁</div>
          </a>
        </div>
        <div>
          <a href="#menu-order" class="sidebar-link active" data-bs-toggle="collapse">
            <div class="d-flex justify-content-between px-4">
              <p class="mb-0"><i class="bi bi-card-checklist me-2"></i>訂單管理</p><i class="bi bi-caret-down"></i>
            </div>
          </a>
          <div class="collapse" id="menu-order">
            <a href="orders.html" class="sidebar-link">
              <div class="ps-5">訂單列表</div>
            </a>
            <a href="order.html" class="sidebar-link">
              <div class="ps-5">單一訂單細節</div>
            </a>
          </div>
        </div>
        <div>
          <a href="#" class="sidebar-link">
            <div class="px-4"><i class="bi bi-list-stars me-2"></i>參考連結</div>
          </a>
        </div>
      </div>
      
      <!-- 登出按鈕 -->
      <a href="#" class="mt-auto sidebar-link">
        <div class="px-4"><i class="bi bi-box-arrow-right m-2"></i>登出</div>
      </a>

    </aside>
    <main class="main">
      <div class="bg-white w-100 border-bottom sticky-top">
        <a href="" class="py-3 px-4 d-inline-block border-end" id="toggle-btn"><i class="bi bi-arrows-angle-expand"></i></a>
      </div>
      <div class="p-4">
        <!-- 主要內容-單一訂單管理 -->
        <div class="row">
          <!-- 次要選單 -->
          <div class="col-lg-3 mb-4">
            <div id="list-management" class="list-group sticky-top" style="top: 80px">
              <a href="#summary" class="list-group-item list-group-item-action">摘要</a>
              <a href="#productlist" class="list-group-item list-group-item-action">購買品項</a>
              <a href="#receiptmanagement" class="list-group-item list-group-item-action">發票管理</a>
              <a href="#danger" class="list-group-item list-group-item-action">危險操作</a>
            </div>
          </div>
          <div class="col-lg-9">
            <div data-bs-spy="scroll" data-bs-target="#list-management" data-bs-smooth-scroll="true" class="scrollspy-example" tabindex="0">
              <!-- 摘要 -->
              <div class="card mb-4" id="summary">
                <div class="card-header mb-0 h5">摘要</div>
                <div class="card-body">
                  <dl class="row mb-0">
                    <dt class="col-sm-3">訂單編號</dt>
                    <dd class="col-sm-9">TX123456789</dd>
                    <dt class="col-sm-3">訂單金額</dt>
                    <dd class="col-sm-9">1,800</dd>
                    <dt class="col-sm-3">訂單狀態</dt>
                    <dd class="col-sm-9">待處理</dd>
                    <dt class="col-sm-3">發票狀態</dt>
                    <dd class="col-sm-9">未開立</dd>
                  </dl>
                </div>
              </div>

              <!-- 購買品項 -->
              <div class="card mb-4" id="productlist">
                <div class="card-header mb-0 h5">購買品項</div>
                <div class="card-boby">
                  <div class="table-responsive">
                    <table class="table table-hover mb-0 text-nowrap">
                      <thead class="bg-light text-nowrap align-middle h-100">
                        <tr class="align-middle">
                          <th scope="col" class="py-3 ps-4"></th>
                          <th scope="col">貨號</th>
                          <th scope="col">商品名稱</th>
                          <th scope="col">購買價格</th>
                          <th scope="col">訂購數量</th>
                          <th scope="col">出貨狀態</th>
                          <th scope="col" class="pe-4">編輯</th>
                        </tr>
                      </thead>
                      <tbody class="text-nowrap">
                        <tr class="align-middle">
                          <td class="ps-4">
                            <input type="checkbox" class="form-check-input">
                          </td>
                          <td>P1234567</td>
                          <td>大麥克全家餐</td>
                          <td>900</td>
                          <td>1</td>
                          <td><div class="text-muted">尚未處理</div></td>
                          <td>
                            <div class="dropdown">
                              <button class="btn btn-outline-dark dropdown-toggle btn-sm" type="button" data-bs-toggle="dropdown" aria-expanded="false">編輯</button>
                              <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">尚未處理</a></li>
                                <li><a class="dropdown-item" href="#">已出貨</a></li>
                                <li><a class="dropdown-item" href="#">已取貨</a></li>
                                <li><hr></li>
                                <li><a class="dropdown-item text-danger" href="#" data-bs-toggle="modal" data-bs-target="#deleteModal" data-bs-order-id="大麥克全家餐">刪除品項</a></li>
                              </ul>
                            </div>
                          </td>
                        </tr>
                        <tr class="align-middle">
                          <td class="ps-4">
                            <input type="checkbox" class="form-check-input">
                          </td>
                          <td>P1234568</td>
                          <td>義大利麵佐番茄醬</td>
                          <td>450</td>
                          <td>2</td>
                          <td><div class="text-muted">尚未處理</div></td>
                          <td>
                            <div class="dropdown">
                              <button class="btn btn-outline-dark dropdown-toggle btn-sm" type="button" data-bs-toggle="dropdown" aria-expanded="false">編輯</button>
                              <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">尚未處理</a></li>
                                <li><a class="dropdown-item" href="#">已出貨</a></li>
                                <li><a class="dropdown-item" href="#">已取貨</a></li>
                                <li><hr></li>
                                <li><a class="dropdown-item text-danger" href="#" data-bs-toggle="modal" data-bs-target="#deleteModal" data-bs-order-id="義大利麵佐番茄醬">刪除品項</a></li>
                              </ul>
                            </div>
                          </td>
                        </tr>
                        <tr class="align-middle">
                          <td class="ps-4">
                            <input type="checkbox" class="form-check-input">
                          </td>
                          <td>P1234569</td>
                          <td>小麥克個人餐</td>
                          <td>500</td>
                          <td>1</td>
                          <td><div class="text-muted">尚未處理</div></td>
                          <td>
                            <div class="dropdown">
                              <button class="btn btn-outline-dark dropdown-toggle btn-sm" type="button" data-bs-toggle="dropdown" aria-expanded="false">編輯</button>
                              <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">尚未處理</a></li>
                                <li><a class="dropdown-item" href="#">已出貨</a></li>
                                <li><a class="dropdown-item" href="#">已取貨</a></li>
                                <li><hr></li>
                                <li><a class="dropdown-item text-danger" href="#" data-bs-toggle="modal" data-bs-target="#deleteModal" data-bs-order-id="小麥克個人餐">刪除品項</a></li>
                              </ul>
                            </div>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="card-footer bg-transparent align-items-start py-3">
                  <div class="dropdown">
                    <button class="btn btn-outline-dark dropdown-toggle btn-sm" type="button" data-bs-toggle="dropdown" aria-expanded="false">出貨狀態管理</button>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">尚未處理</a></li>
                      <li><a class="dropdown-item" href="#">已出貨</a></li>
                      <li><a class="dropdown-item" href="#">已取貨</a></li>
                      <li><hr></li>
                      <li><a class="dropdown-item text-danger" href="#">刪除品項</a></li>
                    </ul>
                  </div>
                </div>
              </div>
              <!-- Modal -->
              <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModal" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="deleteModal">刪除品項</h5>
                      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                      <p>確認刪除「<span id="deleteText"></span>」的品項嗎?</p>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-outline-dark" data-bs-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-danger">確認刪除</button>
                    </div>
                  </div>
                </div>
              </div>
              <script>
                const modalByDelete = document.querySelector('#deleteModal');
                modalByDelete.addEventListener('show.bs.modal', function(event) {
                  const button = event.relatedTarget;
                  const orderId = button.dataset.bsOrderId;
                  console.log(button, orderId);
                  const modalText = modalByDelete.querySelector('#deleteText');

                  modalText.textContent = orderId;
                })
              </script>

              <!-- 發票管理 -->
              <div class="card mb-4" id="receiptmanagement">
                <div class="card-header mb-0 h5">發票管理</div>
                <div class="card-body">
                  <form>
                    <div class="row mb-3">
                      <label for="receiptType" class="col-sm-2 col-form-label">發票類型</label>
                      <div class="col-sm-10">
                        <select class="form-select form-control" aria-label="receiptManagement" id="receiptType">
                          <option selected>營業人三聯式發票</option>
                          <option>個人發票</option>
                          <option>捐贈發票</option>
                        </select>
                      </div>
                    </div>
                    <div class="row mb-3">
                      <label for="taxIdNumber" class="col-sm-2 col-form-label">統一編號</label>
                      <div class="col-sm-10">
                        <input type="text" class="form-control" id="taxIdNumber" value="44223311">
                      </div>
                    </div>
                    <div class="row mb-3">
                      <label for="companyName" class="col-sm-2 col-form-label">公司名稱</label>
                      <div class="col-sm-10">
                        <input type="text" class="form-control" id="companyName" value="六角西餐廳">
                      </div>
                    </div>
                    <div class="d-flex justify-content-end">
                      <button type="submit" class="btn btn-outline-primary">更新資訊</button>
                    </div>
                  </form>
                </div>
              </div>

              <!-- 危險操作 -->
              <div class="card mb-4" id="danger">
                <div class="card-header mb-0 h5">危險操作</div>
                <div class="card-body">
                  <div class="row mb-3 align-items-center">
                    <div class="col-2">
                      <button type="submit" class="btn btn-outline-secondary w-100">退款</button>
                    </div>
                    <div class="col">退還用戶款項</div>
                  </div>
                  <div class="row mb-3 align-items-center">
                    <div class="col-2">
                      <button type="submit" class="btn btn-outline-secondary w-100">折讓</button>
                    </div>
                    <div class="col">針對已開立的訂單退回部分款項</div>
                  </div>
                  <div class="row mb-3 align-items-center">
                    <div class="col-2">
                      <button type="submit" class="btn btn-outline-danger w-100">刪除訂單</button>
                    </div>
                    <div class="col">將訂單刪除，並移除相關訂單資訊</div>
                  </div>
                </div>
              </div>
            </div>
            </div>
          </div>
        </div>
    </main>
  </div>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js" integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js" integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK" crossorigin="anonymous"></script>  
<script src="./javascripts/all.js"></script>
</body>
</html>